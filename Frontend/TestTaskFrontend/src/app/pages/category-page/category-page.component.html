<div class="category-page">
  <h2>Categories</h2>

  <!-- Кнопка перехода на продукты -->
  <button (click)="goToProducts()" style="margin-bottom:16px;">Go to Products</button>

  <!-- Кнопка создания категории -->
  <button *ngIf="userRole === 2" (click)="openModal()">Create New Category</button>

  <table border="1" style="margin-top:16px; width:100%;">
    <thead>
      <tr>
        <th>Name</th>
        <th *ngIf="userRole === 2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let category of categories">
        <td>{{ category.name }}</td>
        <td *ngIf="userRole === 2">
          <button (click)="openModal(category)">Edit</button>
          <button (click)="deleteCategory(category)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Модальное окно -->
  <div *ngIf="modalVisible" class="modal">
    <div class="modal-content">
      <h3>{{ editingCategory ? 'Edit Category' : 'Create Category' }}</h3>
      <form [formGroup]="form" (ngSubmit)="saveCategory()">
        <label>
          Name:
          <input type="text" formControlName="name" />
        </label>
        <br />
        <button type="submit">{{ editingCategory ? 'Update' : 'Create' }}</button>
        <button type="button" (click)="closeModal()">Cancel</button>
      </form>
    </div>
  </div>
</div>

<style>
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: white;
  padding: 20px;
  border-radius: 8px;
}
</style>
